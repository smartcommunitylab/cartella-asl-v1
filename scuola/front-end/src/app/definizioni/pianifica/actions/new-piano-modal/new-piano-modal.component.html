<div class="modal-header">
    <h4 class="modal-title">        
        <span *ngIf="!piano">Nuovo piano alternanza</span>
        <span *ngIf="piano">Aggiorna piano alternanza</span>        
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body">
    <div class="row v-center">
        <label class="col-sm-4 detail-label" for="titolo">                
            Titolo
        </label>
        <div class="col-sm-8" [class.has-danger]="titoloInput.invalid && (titoloInput.dirty || titoloInput.touched)">
            <input type="text" class="form-control" [(ngModel)]="titolo" id="titolo" #titoloInput="ngModel" required>
            <div class="invalid-feedback" [class.d-block]="titoloInput.invalid && (titoloInput.dirty || titoloInput.touched)">
                Titolo richiesto.
            </div>
        </div>
    </div>
    <div class="row v-center">
        <label class="col-sm-4 detail-label" for="note">                
            Note
        </label>
        <div class="col-sm-8">
            <input type="text" class="form-control" [(ngModel)]="note" id="note" #titoloInput="ngModel">
        </div>
    </div>
    <div class="row v-center">
        <label class="col-sm-4 detail-label" for="corsoStudio">Corso di studio</label>
        <div class="col-sm-8" [class.has-danger]="corsoStudioInput.invalid && (corsoStudioInput.dirty || corsoStudioInput.touched)">
            <select class="custom-select form-control" [(ngModel)]="corsoStudioId" id="corsoStudio" #corsoStudioInput="ngModel" required>
                <option value="" disabled>Seleziona corso di studio</option>
                <option [value]="corsodistudio.courseId" *ngFor="let corsodistudio of corsiStudio">{{corsodistudio.nome}}</option>
            </select>
            <div class="invalid-feedback" [class.d-block]="corsoStudioInput.invalid && (corsoStudioInput.dirty || corsoStudioInput.touched)">
                Corso di studio richiesto.
            </div>
        </div>
    </div>
    <div class="row v-center">
        <label class="col-sm-4 detail-label" for="annoRiferimento">Anno di riferimento</label>
        <div class="col-sm-8" [class.has-danger]="annoRiferimentoInput.invalid && (annoRiferimentoInput.dirty || annoRiferimentoInput.touched)">
            <input type="number" class="form-control" [(ngModel)]="annoRiferimento" id="annoRiferimento" #annoRiferimentoInput="ngModel" required>
            <div class="invalid-feedback" [class.d-block]="annoRiferimentoInput.invalid && (annoRiferimentoInput.dirty || annoRiferimentoInput.touched)">
                Anno di riferimento richiesto.
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col text-center" [class.has-danger]="oreTerzoAnnoInput.invalid && (oreTerzoAnnoInput.dirty || oreTerzoAnnoInput.touched)">
            <label for="oreTerzoAnno" class="detail-label">Ore 3ยบ anno:</label>
            <input type="number" step="10" class="form-control text-center" [(ngModel)]="oreTerzoAnno" id="oreTerzoAnno" #oreTerzoAnnoInput="ngModel" required>
            <div class="invalid-feedback" [class.d-block]="oreTerzoAnnoInput.invalid && (oreTerzoAnnoInput.dirty || oreTerzoAnnoInput.touched)">
                Ore richieste.
            </div>
        </div>
        <div class="col text-center" [class.has-danger]="oreQuartoAnnoInput.invalid && (oreQuartoAnnoInput.dirty || oreQuartoAnnoInput.touched)">
            <label for="oreQuartoAnno" class="detail-label">Ore 4ยบ anno:</label>
            <input type="number" step="10" class="form-control text-center" [(ngModel)]="oreQuartoAnno" id="oreQuartoAnno" #oreQuartoAnnoInput="ngModel" required>
            <div class="invalid-feedback" [class.d-block]="oreQuartoAnnoInput.invalid && (oreQuartoAnnoInput.dirty || oreQuartoAnnoInput.touched)">
                Ore richieste.
            </div>
        </div>
        <div class="col text-center" [class.has-danger]="oreQuintoAnnoInput.invalid && (oreQuintoAnnoInput.dirty || oreQuintoAnnoInput.touched)">
            <label for="oreQuintoAnno" class="detail-label">Ore 5ยบ anno:</label>
            <input type="number" step="10" class="form-control text-center" [(ngModel)]="oreQuintoAnno" id="oreQuintoAnno" #oreQuintoAnnoInput="ngModel" required>
            <div class="invalid-feedback" [class.d-block]="oreQuintoAnnoInput.invalid && (oreQuintoAnnoInput.dirty || oreQuintoAnnoInput.touched)">
                Ore richieste.
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col text-center">
            Totale ore nei 3 anni: {{oreTerzoAnno + oreQuartoAnno + oreQuintoAnno}}
        </div>
    </div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-flat" (click)="activeModal.close('Close click')">Annulla</button>
    <button type="button" class="btn btn-flat btn-success" (click)="create()" [disabled]="titoloInput.invalid || corsoStudioInput.invalid || annoRiferimentoInput.invalid || oreTerzoAnnoInput.invalid || oreQuartoAnnoInput.invalid || oreQuintoAnnoInput.invalid">
        <span *ngIf="!piano">Crea piano</span>
        <span *ngIf="piano">Aggiorna piano</span>
    </button>
</div>